import{s as J,e as Q,t as I,j as n,B,L as U,R as W,p as X,d as Y,T as M,c as Z,F as _,b as ee,l as te,a as re}from"./index-345a54fd.js";import{c as ae,a as ne,u as se}from"./formik.esm-df7192cb.js";import{A as oe}from"./ArrowLeft-2135ffd4.js";import{S as ce}from"./seo-ea61f518.js";import{u as ie}from"./use-page-view-43790c32.js";const le=J(Q)`
  input {
    text-align: center;
  }
`,ue={TextFieldStyled:le},de=t=>n.jsx(ue.TextFieldStyled,{...t}),f={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",home:"Home",end:"End"};function pe(t,o){return t<=0?[]:Array.from({length:t},o)}function he(t,o,p){return t.map((c,h)=>o===h?p:c)}function S(t){return t.join("")}function w(t,o){return[...t,o]}function fe(t,o,p){return t.reduce((c,h,l)=>{const{characters:m,restArrayMerged:i}=c;if(l<p)return{restArrayMerged:i,characters:w(m,h)};const[x,...y]=i;return{restArrayMerged:y,characters:w(m,x||"")}},{restArrayMerged:o,characters:[]}).characters}function me(t){return t.split("")}const V=I.forwardRef((t,o)=>{const{value:p,length:c,autoFocus:h,onChange:l,TextFieldsProps:m,onComplete:i,validateChar:x,className:y,...L}=t,{onPaste:v,onFocus:j,onKeyDown:F,className:P,...$}=m||{},u=pe(c,(e,a)=>({character:p[a]||"",inputRef:I.createRef()})),b=e=>u.findIndex(({inputRef:a})=>a.current===e),R=()=>u.map(({character:e})=>e),N=(e,a)=>{const r=he(R(),e,a);return S(r)},k=e=>{var a,r;(r=(a=u[e])==null?void 0:a.inputRef.current)==null||r.focus()},d=e=>{var a,r,s,g;e===-1?(r=(a=u[u.length-1])==null?void 0:a.inputRef.current)==null||r.select():(g=(s=u[e])==null?void 0:s.inputRef.current)==null||g.select()},C=e=>{e+1!==c&&(u[e+1].character?d(e+1):k(e+1))},O=e=>{e>0&&d(e-1)},E=e=>{const a=e.target.value[0]||"",r=b(e.target);if(typeof x=="function"&&!x(a,r))return;const s=N(r,a);l==null||l(s),s.length===c&&(i==null||i(s)),a!==""?s.length<c?C(s.length-1):C(r):s[r]?d(r):O(r)},K=e=>{e.preventDefault(),e.target.select(),j==null||j(e)},q=e=>{const a=e.target,r=b(a);a.value===e.key?(e.preventDefault(),C(r)):!a.value&&f.backspace===e.key||f.left===e.key?(e.preventDefault(),d(r-1)):f.right===e.key?(e.preventDefault(),d(r+1)):f.home===e.key?(e.preventDefault(),d(0)):f.end===e.key&&(e.preventDefault(),d(-1)),F==null||F(e)},z=e=>{e.preventDefault();const a=e.target,r=e.clipboardData.getData("text/plain"),s=b(a),g=R(),T=fe(g,me(r),s),A=T.findIndex((H,G)=>G>s&&H===""),D=S(T);if(l==null||l(D),D.length===c){i==null||i(D),k(c-1);return}A!==-1&&k(A),v==null||v(e)};return n.jsx(B,{display:"flex",gap:"20px",alignItems:"center",ref:o,className:`MuiOtpInput-Box ${y||""}`,...L,children:u.map(({character:e,inputRef:a},r)=>n.jsx(de,{autoFocus:h?r===0:!1,autoComplete:"one-time-code",value:e,inputRef:a,className:`MuiOtpInput-TextField MuiOtpInput-TextField-${r+1} ${P||""}`,onPaste:z,onFocus:K,onChange:E,onKeyDown:q,...$},r))})});V.defaultProps={value:"",length:4,autoFocus:!1,validateChar:()=>!0,onChange:()=>{},onComplete:()=>{},TextFieldsProps:{}};const xe={code:""},ge=ae({code:ne().min(6).max(6).required("Code is required")}),ke=()=>{const t=se({initialValues:xe,validationSchema:ge,onSubmit:()=>{}});return ie(),n.jsxs(n.Fragment,{children:[n.jsx(ce,{title:"Verify Code"}),n.jsxs("div",{children:[n.jsx(B,{sx:{mb:4},children:n.jsxs(U,{color:"text.primary",component:W,href:X.auth.register,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[n.jsx(Y,{sx:{mr:1},children:n.jsx(oe,{})}),n.jsx(M,{variant:"subtitle2",children:"Dashboard"})]})}),n.jsx(Z,{sx:{mb:4},spacing:1,children:n.jsx(M,{variant:"h5",children:"Verify code"})}),n.jsxs("form",{noValidate:!0,onSubmit:t.handleSubmit,children:[n.jsxs(_,{error:!!(t.touched.code&&t.errors.code),children:[n.jsx(ee,{sx:{display:"block",mb:2},children:"Code"}),n.jsx(V,{length:6,onBlur:()=>t.handleBlur("code"),onChange:o=>t.setFieldValue("code",o),onFocus:()=>t.setFieldTouched("code"),sx:{"& .MuiFilledInput-input":{p:"14px"}},value:t.values.code}),!!(t.touched.code&&t.errors.code)&&n.jsx(te,{children:t.errors.code})]}),n.jsx(re,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Verify"})]})]})]})};export{ke as default};
