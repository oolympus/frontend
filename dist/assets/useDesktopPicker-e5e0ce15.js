import{ab as te,ac as ne,s as q,bm as se,aW as re,_ as n,ad as le,r as c,o as W,bn as ie,bo as ce,aB as _,j as u,ah as ae,bi as ue,bp as K,m as N,q as pe,a5 as de,Y as fe,bl as Pe}from"./index-3a7c6a81.js";import{l as me,a as ke,m as he,n as ve}from"./useMobilePicker-4454ee28.js";function Re(e){return te("MuiPickersPopper",e)}ne("MuiPickersPopper",["root","paper"]);const xe=e=>{const{classes:r}=e;return ae({root:["root"],paper:["paper"]},Re,r)},ye=q(se,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,r)=>r.root})(({theme:e})=>({zIndex:e.zIndex.modal})),Ee=q(re,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,r)=>r.paper})(({ownerState:e})=>n({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"}));function be(e,r){return r.documentElement.clientWidth<e.clientX||r.documentElement.clientHeight<e.clientY}function Te(e,r){const p=c.useRef(!1),d=c.useRef(!1),i=c.useRef(null),f=c.useRef(!1);c.useEffect(()=>{if(!e)return;function o(){f.current=!0}return document.addEventListener("mousedown",o,!0),document.addEventListener("touchstart",o,!0),()=>{document.removeEventListener("mousedown",o,!0),document.removeEventListener("touchstart",o,!0),f.current=!1}},[e]);const l=ue(o=>{if(!f.current)return;const s=d.current;d.current=!1;const t=K(i.current);if(!i.current||"clientX"in o&&be(o,t))return;if(p.current){p.current=!1;return}let P;o.composedPath?P=o.composedPath().indexOf(i.current)>-1:P=!t.documentElement.contains(o.target)||i.current.contains(o.target),!P&&!s&&r(o)}),T=()=>{d.current=!0};return c.useEffect(()=>{if(e){const o=K(i.current),s=()=>{p.current=!0};return o.addEventListener("touchstart",l),o.addEventListener("touchmove",s),()=>{o.removeEventListener("touchstart",l),o.removeEventListener("touchmove",s)}}},[e,l]),c.useEffect(()=>{if(e){const o=K(i.current);return o.addEventListener("click",l),()=>{o.removeEventListener("click",l),d.current=!1}}},[e,l]),[i,T,T]}function we(e){var r,p,d,i;const f=le({props:e,name:"MuiPickersPopper"}),{anchorEl:l,children:T,containerRef:o=null,shouldRestoreFocus:s,onBlur:t,onDismiss:P,open:h,role:w,placement:B,slots:m,slotProps:a}=f;c.useEffect(()=>{function k(E){h&&(E.key==="Escape"||E.key==="Esc")&&P()}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[P,h]);const R=c.useRef(null);c.useEffect(()=>{w==="tooltip"||s&&!s()||(h?R.current=me(document):R.current&&R.current instanceof HTMLElement&&setTimeout(()=>{R.current instanceof HTMLElement&&R.current.focus()}))},[h,w,s]);const[I,g,M]=Te(h,t??P),U=c.useRef(null),V=W(U,o),A=W(V,I),S=f,x=xe(S),C=k=>{k.key==="Escape"&&(k.stopPropagation(),P())},j=(r=m==null?void 0:m.desktopTransition)!=null?r:ie,$=(p=m==null?void 0:m.desktopTrapFocus)!=null?p:ce,D=(d=m==null?void 0:m.desktopPaper)!=null?d:Ee,y=_({elementType:D,externalSlotProps:a==null?void 0:a.desktopPaper,additionalProps:{tabIndex:-1,elevation:8,ref:A},className:x.paper,ownerState:{}}),O=(i=m==null?void 0:m.popper)!=null?i:ye,z=_({elementType:O,externalSlotProps:a==null?void 0:a.popper,additionalProps:{transition:!0,role:w,open:h,anchorEl:l,placement:B,onKeyDown:C},className:x.root,ownerState:f});return u.jsx(O,n({},z,{children:({TransitionProps:k,placement:E})=>u.jsx($,n({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:w==="tooltip",isEnabled:()=>!0},a==null?void 0:a.desktopTrapFocus,{children:u.jsx(j,n({},k,a==null?void 0:a.desktopTransition,{children:u.jsx(D,n({},y,{onClick:b=>{var v;g(b),(v=y.onClick)==null||v.call(y,b)},onTouchStart:b=>{var v;M(b),(v=y.onTouchStart)==null||v.call(y,b)},ownerState:n({},S,{placement:E}),children:T}))}))}))}))}const Se=["props","getOpenDialogAriaText"],Fe=["ownerState"],Le=["ownerState"],Ae=e=>{var r,p,d,i,f;let{props:l,getOpenDialogAriaText:T}=e,o=N(e,Se);const{slots:s,slotProps:t,className:P,sx:h,format:w,formatDensity:B,timezone:m,label:a,inputRef:R,readOnly:I,disabled:g,autoFocus:M,localeText:U}=l,V=ke(),A=c.useRef(null),S=c.useRef(null),x=pe(),C=(r=t==null||(p=t.toolbar)==null?void 0:p.hidden)!=null?r:!1,{open:j,actions:$,hasUIView:D,layoutProps:y,renderCurrentView:O,shouldRestoreFocus:z,fieldProps:k}=he(n({},o,{props:l,inputRef:A,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),E=(d=s.inputAdornment)!=null?d:de,b=_({elementType:E,externalSlotProps:t==null?void 0:t.inputAdornment,additionalProps:{position:"end"},ownerState:l}),v=N(b,Fe),X=(i=s.openPickerButton)!=null?i:fe,G=_({elementType:X,externalSlotProps:t==null?void 0:t.openPickerButton,additionalProps:{disabled:g||I,onClick:$.onOpen,"aria-label":T(k.value,V),edge:v.position},ownerState:l}),J=N(G,Le),Q=s.openPickerIcon,Y=s.field,F=_({elementType:Y,externalSlotProps:t==null?void 0:t.field,additionalProps:n({},k,C&&{id:x},{readOnly:I,disabled:g,className:P,sx:h,format:w,formatDensity:B,timezone:m,label:a,autoFocus:M&&!l.open,focused:j?!0:void 0}),ownerState:l});D&&(F.InputProps=n({},F.InputProps,{ref:S,[`${v.position}Adornment`]:u.jsx(E,n({},v,{children:u.jsx(X,n({},J,{children:u.jsx(Q,n({},t==null?void 0:t.openPickerIcon))}))}))}));const Z=n({textField:s.textField},F.slots),ee=(f=s.layout)!=null?f:ve,oe=W(A,F.inputRef,R);let H=x;C&&(a?H=`${x}-label`:H=void 0);const L=n({},t,{toolbar:n({},t==null?void 0:t.toolbar,{titleId:x}),popper:n({"aria-labelledby":H},t==null?void 0:t.popper)});return{renderPicker:()=>u.jsxs(Pe,{localeText:U,children:[u.jsx(Y,n({},F,{slots:Z,slotProps:L,inputRef:oe})),u.jsx(we,n({role:"dialog",placement:"bottom-start",anchorEl:S.current},$,{open:j,slots:s,slotProps:L,shouldRestoreFocus:z,children:u.jsx(ee,n({},y,L==null?void 0:L.layout,{slots:s,slotProps:L,children:O()}))}))]})}};export{Ae as u};
