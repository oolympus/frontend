import{c2 as Le,ay as z,aA as Ae,aw as Re,bu as Te,c3 as Ee,aC as ze,bp as Pe,bt as We,c4 as qe,c5 as De,aZ as _e,q as Oe,c6 as Fe,n as He,bi as Be,o as Ge,aF as Ve,ab as $e,ac as Ue,s as P,_ as k,r as d,ad as Ne,m as Ze,j as e,ag as Ke,ah as Qe,P as c,c7 as Ye,c8 as Je,aW as Xe,B as j,T as v,Y as p,d as h,a9 as Y,au as V,D as L,c as b,bD as y,a as A,c9 as W,A as S,e as es,Z as ss,ak as ts,u as q,E as J,R as X,O as ee,a5 as se,z as te,y as ae,L as $,bM as D,bN as _,p as M,H as U,aN as as,aJ as ns,i as rs,f as is,aa as N}from"./index-3a7c6a81.js";import{S as os}from"./seo-63bf6bf4.js";import{u as ls}from"./use-page-view-df8e2160.js";import{u as cs}from"./use-search-params-3c7b6657.js";import{A as O}from"./Attachment01-542f3a7e.js";import{I as ne}from"./Image01-616e2045.js";import{Q as ds}from"./quill-editor-3a1cf2e5.js";import{d as T}from"./deep-copy-ee95be26.js";import{D as us}from"./Download01-09ad4c1c.js";import{R as hs}from"./react-markdown-17a0f0df.js";import{F as ms}from"./FaceSmile-62ef9c83.js";import{L as ps}from"./Link01-811666dc.js";import{A as xs}from"./ArrowLeft-0df46c85.js";import{C as re}from"./ChevronLeft-4b98da5a.js";import{D as ie}from"./DotsHorizontal-3dfd675c.js";import{T as oe}from"./Trash02-de320eaf.js";import{g as le}from"./get-initials-d1c6cec7.js";import{S as ce}from"./Star01-1e952b90.js";import{C as de}from"./Checkbox-1998dad8.js";import{P as fs}from"./Plus-08f47ab9.js";import{A as gs}from"./AlertCircle-374830c3.js";import{M as js}from"./Mail01-c694579d.js";import{S as bs}from"./Send01-92cc4513.js";import{L as vs}from"./ListItem-3d302f9d.js";import"./SwitchBase-68989803.js";const ys={configure:s=>{Le.configure(s)}},Cs=Object.freeze(Object.defineProperty({__proto__:null,capitalize:z,createChainedFunction:Ae,createSvgIcon:Re,debounce:Te,deprecatedPropType:Ee,isMuiElement:ze,ownerDocument:Pe,ownerWindow:We,requirePropFactory:qe,setRef:De,unstable_ClassNameGenerator:ys,unstable_useEnhancedEffect:_e,unstable_useId:Oe,unsupportedProp:Fe,useControlled:He,useEventCallback:Be,useForkRef:Ge,useIsFocusVisible:Ve},Symbol.toStringTag,{value:"Module"}));function ks(s){return $e("MuiListSubheader",s)}Ue("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ws=["className","color","component","disableGutters","disableSticky","inset"],Ms=s=>{const{classes:t,color:a,disableGutters:n,inset:o,disableSticky:r}=s,i={root:["root",a!=="default"&&`color${z(a)}`,!n&&"gutters",o&&"inset",!r&&"sticky"]};return Qe(i,ks,t)},Ss=P("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:a}=s;return[t.root,a.color!=="default"&&t[`color${z(a.color)}`],!a.disableGutters&&t.gutters,a.inset&&t.inset,!a.disableSticky&&t.sticky]}})(({theme:s,ownerState:t})=>k({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(s.vars||s).palette.text.secondary,fontFamily:s.typography.fontFamily,fontWeight:s.typography.fontWeightMedium,fontSize:s.typography.pxToRem(14)},t.color==="primary"&&{color:(s.vars||s).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(s.vars||s).palette.background.paper})),ue=d.forwardRef(function(t,a){const n=Ne({props:t,name:"MuiListSubheader"}),{className:o,color:r="default",component:i="li",disableGutters:l=!1,disableSticky:u=!1,inset:x=!1}=n,f=Ze(n,ws),g=k({},n,{color:r,component:i,disableGutters:l,disableSticky:u,inset:x}),w=Ms(g);return e.jsx(Ss,k({as:i,className:Ke(w.root,o),ref:a,ownerState:g},f))});ue.muiSkipListHighlight=!0;const Is=ue;var Ls=function(t){return e.jsxs("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M15 3h6v6M9 21H3v-6"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m14 10 7-7m0 0h-6m6 0v6m-11 5-7 7m0 0h6m-6 0v-6"})]}))},As=function(t){return e.jsxs("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M4 14h6v6m10-10h-6V4"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 14h6m0 0v6m0-6-7 7m17-11h-6m0 0V4m0 6 7-7"})]}))};const he=s=>{const{maximize:t=!1,message:a="",onClose:n,onMaximize:o,onMessageChange:r,onMinimize:i,onSubjectChange:l,onToChange:u,open:x=!1,subject:f="",to:g=""}=s,w=d.useCallback(m=>{l==null||l(m.target.value)},[l]),C=d.useCallback(m=>{u==null||u(m.target.value)},[u]);return x?e.jsxs(Ye,{children:[e.jsx(Je,{open:t}),e.jsxs(Xe,{sx:{bottom:0,display:"flex",flexDirection:"column",margin:3,maxHeight:m=>`calc(100% - ${m.spacing(6)})`,maxWidth:m=>`calc(100% - ${m.spacing(6)})`,minHeight:500,outline:"none",position:"fixed",right:0,width:600,zIndex:1400,overflow:"hidden",...t&&{borderRadius:0,height:"100%",margin:0,maxHeight:"100%",maxWidth:"100%",width:"100%"}},elevation:12,children:[e.jsxs(j,{sx:{alignItems:"center",display:"flex",px:2,py:1},children:[e.jsx(v,{variant:"h6",children:"New Message"}),e.jsx(j,{sx:{flexGrow:1}}),t?e.jsx(p,{onClick:i,children:e.jsx(h,{children:e.jsx(As,{})})}):e.jsx(p,{onClick:o,children:e.jsx(h,{children:e.jsx(Ls,{})})}),e.jsx(p,{onClick:n,children:e.jsx(h,{children:e.jsx(Y,{})})})]}),e.jsx(V,{disableUnderline:!0,fullWidth:!0,onChange:C,placeholder:"To",sx:{p:1,borderBottom:1,borderColor:"divider"},value:g}),e.jsx(V,{disableUnderline:!0,fullWidth:!0,onChange:w,placeholder:"Subject",sx:{p:1,borderBottom:1,borderColor:"divider"},value:f}),e.jsx(ds,{onChange:r,placeholder:"Leave a message",sx:{border:"none",flexGrow:1},value:a}),e.jsx(L,{}),e.jsxs(b,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{p:2},children:[e.jsxs(b,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(y,{title:"Attach image",children:e.jsx(p,{size:"small",children:e.jsx(h,{children:e.jsx(ne,{})})})}),e.jsx(y,{title:"Attach file",children:e.jsx(p,{size:"small",children:e.jsx(h,{children:e.jsx(O,{})})})})]}),e.jsx("div",{children:e.jsx(A,{variant:"contained",children:"Send"})})]})]})]}):null};he.propTypes={maximize:c.bool,message:c.string,onClose:c.func,onMaximize:c.func,onMessageChange:c.func,onMinimize:c.func,onSubjectChange:c.func,onToChange:c.func,open:c.bool,subject:c.string,to:c.string};const I=new Date,Z=[{id:"all",name:"All Mail",type:"system"},{id:"inbox",name:"Inbox",totalCount:0,type:"system",unreadCount:1},{id:"sent",name:"Sent",totalCount:0,type:"system",unreadCount:0},{id:"drafts",name:"Drafts",totalCount:0,type:"system",unreadCount:0},{id:"trash",name:"Trash",totalCount:1,type:"system",unreadCount:0},{id:"spam",name:"Spam",totalCount:0,type:"system",unreadCount:0},{id:"important",name:"Important",totalCount:1,type:"system",unreadCount:0},{id:"starred",name:"Starred",totalCount:1,type:"system",unreadCount:1},{id:"work",color:"#43A048",name:"Work",totalCount:1,type:"custom",unreadCount:0},{id:"business",color:"#1E88E5",name:"Business",totalCount:2,type:"custom",unreadCount:1},{id:"personal",color:"#FB8A00",name:"Personal",totalCount:1,type:"custom",unreadCount:0}],K=[{id:"5e86bcc3e1b53b6365d71638",attachments:[{id:"945d887e97f480359d3f591f",name:"working-sketch.png",size:"128.5Kb",type:"image",url:"/assets/covers/abstract-1-4x4-small.png"},{id:"09223c93e60f815fdce487af",name:"summer-customers.pdf",size:"782.3Kb",type:"file",url:"#"},{id:"165adb24c7b6a2e9aebba766",name:"desktop-coffee.png",size:"568.2Kb",type:"image",url:"/assets/covers/minimal-1-4x4-small.png"}],createdAt:I.getTime(),folder:"inbox",from:{avatar:"/assets/avatars/avatar-marcus-finn.png",email:"marcus.finn@olympus.com",name:"Marcus Finn"},isImportant:!0,isStarred:!1,isUnread:!0,labelIds:["work","business"],message:`
Hi Matt, I saw your work on instagram and would be interested in getting a quote for Logo and slider

Integer velit massa, pharetra sed lacus eu, pulvinar faucibus ex. Ut pretium ex id turpis elementum, aliquam accumsan enim sollicitudin. Sed nec consectetur lorem, ac ullamcorper augue. Suspendisse tempus ligula suscipit finibus vehicula. Morbi viverra finibus lectus, egestas dictum mi mollis nec. Proin eget vehicula eros, sit amet molestie ipsum. Morbi feugiat, elit non placerat fringilla, leo risus tristique felis, sollicitudin tristique nibh arcu nec arcu. Maecenas vel turpis nibh. Etiam in lectus quis felis facilisis dictum. Morbi id vehicula lectus, vel imperdiet dolor. Phasellus consequat tempor tellus, quis placerat quam posuere eget. Mauris blandit, nisl eu sollicitudin tincidunt, tellus diam accumsan arcu, vel pharetra lectus est nec nisi. In sem dolor, mollis sed risus eu, mattis dictum lectus. Suspendisse urna est, finibus et urna non, tincidunt placerat eros.

Donec viverra ipsum id auctor rutrum. Morbi consequat a nunc non interdum. Nulla accumsan eget felis a dictum. Cras rhoncus tortor eget velit fringilla suscipit. Donec quis arcu eu nibh aliquet auctor eget fringilla felis. Sed commodo efficitur massa. Proin maximus elit in suscipit laoreet. Integer pretium arcu ac mauris ullamcorper auctor. Vivamus tincidunt lacus eget purus feugiat tincidunt. Etiam feugiat gravida ullamcorper. Pellentesque cursus vehicula lectus et consectetur. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam ligula risus, congue eu pellentesque id, volutpat aliquam arcu. Donec efficitur ipsum id neque rhoncus viverra. Vestibulum hendrerit et eros eu bibendum.


Kind regards,

Marcus Finn
    `,subject:"Website redesign. Interested in collaboration",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@olympus.com",name:"Anika Visser"}]},{id:"5e86bcbd8406cd3055f2b6c8",createdAt:I.getTime(),folder:"spam",from:{avatar:"/assets/avatars/avatar-miron-vitold.png",email:"miron.vitold@olympus.com",name:"Miron Vitold"},isImportant:!1,isStarred:!0,isUnread:!1,labelIds:[],message:`
Hey, nice projects! I really liked the one in react. What's your quote on kinda similar project?
    `,subject:"Amazing work",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@olympus.com",name:"Anika Visser"}]},{id:"5e86bcb9fee1ec12453fa13b",createdAt:I.getTime(),folder:"inbox",from:{avatar:"/assets/avatars/avatar-penjani-inyene.png",email:"penjani.inyene@olympus.com",name:"Penjani Inyene"},isImportant:!1,isStarred:!1,isUnread:!1,labelIds:["business"],message:`
Dear Anika, Your flight is coming up soon. Please don’t forget to check in for your scheduled flight.
    `,subject:"Flight reminder",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@olympus.com",name:"Anika Visser"}]},{id:"5e86bcb5575181a5e527e24f",createdAt:I.getTime(),folder:"trash",from:{avatar:"/assets/avatars/avatar-carson-darrin.png",email:"carson.darrin@olympus.com",name:"Carson Darrin"},isImportant:!1,isStarred:!1,isUnread:!0,labelIds:["personal"],message:`
My market leading client has another fantastic opportunity for an experienced Software Developer to join them on a heavily remote basis
    `,subject:"Possible candidates for the position",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@olympus.com",name:"Anika Visser"}]}];class Rs{getLabels(t){return Promise.resolve(T(Z))}getEmails(t={}){const{label:a}=t;return new Promise((n,o)=>{try{const r=T(K);let i=[];const l=Z.reduce((u,x)=>(x.type==="custom"&&u.push(x.id),u),[]);if(a&&l.includes(a))i=r.filter(u=>u.labelIds.includes(a));else switch(a){case void 0:case"inbox":i=r.filter(u=>u.folder==="inbox");break;case"all":i=[...r];break;case"sent":case"trash":i=r.filter(u=>u.folder===a);break;case"starred":i=r.filter(u=>u.isStarred);break;case"important":i=r.filter(u=>u.isImportant);break;default:}n(i)}catch(r){console.error("[Mail Api]: ",r),o(new Error("Internal server error"))}})}getEmail(t){const{emailId:a}=t;return new Promise((n,o)=>{try{const i=T(K).find(l=>l.id===a);if(!i){o(new Error("Email not found"));return}n(i)}catch(r){console.error("[Mail Api]: ",r),o(new Error("Internal server error"))}})}}const F=new Rs,Ts=()=>async s=>{const t=await F.getLabels();s(W.actions.getLabels(t))},Es=s=>async t=>{const a=await F.getEmails(s);t(W.actions.getEmails(a))},zs=s=>async t=>{const a=await F.getEmail(s);t(W.actions.getEmail(a))},H={getEmail:zs,getEmails:Es,getLabels:Ts},me=s=>{const{attachments:t=[]}=s,a=t.length;return e.jsxs(b,{spacing:2,children:[e.jsxs(v,{variant:"h6",children:[a," Attachments"]}),e.jsx(b,{alignItems:"flex-start",direction:"row",spacing:2,flexWrap:"wrap",children:t.map(n=>e.jsxs(b,{alignItems:"center",direction:"row",spacing:1,sx:{alignItems:"center",cursor:"pointer",display:"flex"},children:[n.type==="image"&&e.jsx(S,{src:n.url,variant:"rounded"}),n.type==="file"&&e.jsx(S,{variant:"rounded",sx:{backgroundColor:"primary.light"},children:e.jsx(v,{variant:"overline",children:"PDF"})}),e.jsxs("div",{children:[e.jsx(v,{noWrap:!0,variant:"subtitle2",children:n.name}),e.jsx(v,{color:"text.secondary",variant:"body2",children:n.size})]})]},n.id))}),e.jsx("div",{children:e.jsx(A,{color:"inherit",startIcon:e.jsx(h,{children:e.jsx(us,{})}),size:"small",children:"Download all"})})]})};me.propTypes={attachments:c.array};const Ps=P("div")(({theme:s})=>({color:s.palette.text.primary,fontFamily:s.typography.body1.fontFamily,"& > p":{fontSize:s.typography.body1.fontSize,lineHeight:s.typography.body1.lineHeight,marginBottom:s.spacing(2)}})),pe=s=>{const{message:t=""}=s;return e.jsx(Ps,{children:e.jsx(hs,{children:t})})};pe.propTypes={message:c.string};const Ws=s=>{const t=ss(),a=d.useRef(null),[n,o]=d.useState(""),r=d.useCallback(l=>{o(l.target.value)},[]),i=d.useCallback(()=>{var l;(l=a.current)==null||l.click()},[]);return e.jsxs(e.Fragment,{children:[e.jsx(j,{sx:{p:3},...s,children:e.jsxs(b,{alignItems:"flex-start",direction:"row",spacing:2,children:[e.jsx(S,{src:t.avatar}),e.jsxs(j,{sx:{flexGrow:1},children:[e.jsx(es,{fullWidth:!0,maxRows:7,minRows:3,multiline:!0,onChange:r,placeholder:"Leave a message",value:n,variant:"outlined"}),e.jsxs(b,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{mt:2},children:[e.jsxs(b,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(y,{title:"Attach image",children:e.jsx(p,{onClick:i,size:"small",children:e.jsx(h,{children:e.jsx(ne,{})})})}),e.jsx(y,{title:"Attach file",children:e.jsx(p,{onClick:i,size:"small",children:e.jsx(h,{children:e.jsx(O,{})})})}),e.jsx(p,{children:e.jsx(h,{children:e.jsx(ps,{})})}),e.jsx(p,{children:e.jsx(h,{children:e.jsx(ms,{})})})]}),e.jsx("div",{children:e.jsx(A,{variant:"contained",children:"Reply"})})]})]})]})}),e.jsx("input",{hidden:!0,ref:a,type:"file"})]})};var B={},xe={exports:{}};(function(s){function t(a){return a&&a.__esModule?a:{default:a}}s.exports=t,s.exports.__esModule=!0,s.exports.default=s.exports})(xe);var fe=xe.exports,E={};const qs=ts(Cs);var Q;function ge(){return Q||(Q=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=qs}(E)),E}var Ds=fe;Object.defineProperty(B,"__esModule",{value:!0});var je=B.default=void 0,_s=Ds(ge()),Os=e,Fs=(0,_s.default)((0,Os.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");je=B.default=Fs;var G={},Hs=fe;Object.defineProperty(G,"__esModule",{value:!0});var be=G.default=void 0,Bs=Hs(ge()),Gs=e,Vs=(0,Bs.default)((0,Gs.jsx)("path",{d:"M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"ReplyAll");be=G.default=Vs;const ve=s=>{const{backHref:t,createdAt:a,from:n,to:o}=s,r=q(l=>l.breakpoints.up("md")),i=J(a,"MMMM d yyyy, h:mm:ss a");return e.jsxs("div",{children:[e.jsxs(b,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[e.jsx("div",{children:e.jsx(y,{title:"Back",children:e.jsx(p,{component:X,href:t,children:e.jsx(h,{children:e.jsx(xs,{})})})})}),e.jsxs(b,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(ee,{fullWidth:!0,placeholder:"Search message",size:"small",startAdornment:e.jsx(se,{position:"start",children:e.jsx(h,{children:e.jsx(te,{})})}),sx:{width:200}}),e.jsx(y,{title:"Previous email",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(re,{})})})}),e.jsx(y,{title:"Next email",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(ae,{})})})})]})]}),e.jsx(L,{}),e.jsxs(b,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:3},children:[e.jsxs(b,{alignItems:"center",direction:"row",spacing:2,children:[e.jsx(S,{src:n.avatar||void 0,sx:{height:48,width:48},children:le(n.name)}),e.jsxs("div",{children:[e.jsx(v,{component:"span",variant:"subtitle2",children:n.name})," ",e.jsx($,{color:"text.secondary",component:"span",variant:"body2",children:n.email}),e.jsxs(v,{color:"text.secondary",variant:"subtitle2",children:["To:"," ",o.map(l=>e.jsx($,{color:"inherit",children:l.email},l.email))]}),i&&e.jsx(v,{color:"text.secondary",noWrap:!0,variant:"caption",children:i})]})]}),e.jsxs(b,{alignItems:"center",direction:"row",spacing:1,children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Reply",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(je,{})})})}),e.jsx(y,{title:"Reply all",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(be,{})})})}),e.jsx(y,{title:"Delete",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(oe,{})})})})]}),e.jsx(y,{title:"More options",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(ie,{})})})})]})]})]})};ve.propTypes={backHref:c.string.isRequired,createdAt:c.number.isRequired,from:c.object.isRequired,to:c.array.isRequired};const $s=s=>{const t=D(),a=_(n=>n.mail.emails.byId[s]);return d.useEffect(()=>{t(H.getEmail({emailId:s}))},[s]),a},ye=s=>{const{emailId:t,currentLabelId:a}=s,n=$s(t);if(!n)return null;const o=a&&a!=="inbox"?M.dashboard.mail+`?label=${a}`:M.dashboard.mail,r=!!n.message,i=n.attachments&&n.attachments.length>0;return e.jsxs(b,{sx:{flexGrow:1,height:"100%",overflowY:"auto"},children:[e.jsx(ve,{backHref:o,createdAt:n.createdAt,from:n.from,to:n.to}),e.jsxs(j,{sx:{flexGrow:1,px:3,py:6},children:[e.jsx(v,{variant:"h3",children:n.subject}),e.jsxs(b,{sx:{mt:2},spacing:6,children:[r&&e.jsx(pe,{message:n.message}),i&&e.jsx(me,{attachments:n.attachments})]})]}),e.jsx(Ws,{})]})};ye.propTypes={emailId:c.string.isRequired,currentLabelId:c.string};const Us=P("div",{shouldForwardProp:s=>s!=="open"})(({theme:s,open:t})=>({flexGrow:1,overflow:"hidden",[s.breakpoints.up("md")]:{marginLeft:-280},transition:s.transitions.create("margin",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),...t&&{[s.breakpoints.up("md")]:{marginLeft:0},transition:s.transitions.create("margin",{easing:s.transitions.easing.easeOut,duration:s.transitions.duration.enteringScreen})}}));var Ns=function(t){return e.jsxs("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M21 18.3v-5.4h-5.4M3 3.9v5.4h5.4"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9.3s.1092-.7643 3.2724-3.9276c3.1633-3.1632 8.2919-3.1632 11.4552 0 1.1207 1.1208 1.8444 2.4882 2.171 3.9276M3 9.3V3.9m0 5.4h5.4M21 12.9s-.1092.7643-3.2724 3.9276c-3.1633 3.1632-8.292 3.1632-11.4552 0-1.1207-1.1208-1.8444-2.4882-2.171-3.9276M21 12.9v5.4m0-5.4h-5.4"})]}))},Ce=function(t){return e.jsx("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:e.jsx("path",{fill:"#fff",fillOpacity:.01,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 7.8c0-1.6802 0-2.5202.327-3.162a3 3 0 0 1 1.311-1.311C7.2798 3 8.1198 3 9.8 3h4.4c1.6802 0 2.5202 0 3.162.327a2.9997 2.9997 0 0 1 1.311 1.311C19 5.2798 19 6.1198 19 7.8V21l-7-4-7 4V7.8Z"})}))};const ke=s=>{const{email:t,onDeselect:a,onSelect:n,selected:o,href:r,...i}=s,l=d.useCallback(g=>{g.target.checked?n==null||n():a==null||a()},[n,a]),u=J(t.createdAt,"dd MMM"),x=!!(t.attachments&&t.attachments.length>0),f=!!(t.attachments&&t.attachments.length>1);return e.jsxs(j,{sx:{alignItems:"center",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"divider",display:"flex",p:2,...!t.isUnread&&{position:"relative","&:before":{backgroundColor:"primary.main",content:'" "',height:"100%",left:0,position:"absolute",top:0,width:4},"& $name, & $subject":{fontWeight:600}},...o&&{backgroundColor:"primary.lightest"},...!o&&{"&:hover":{backgroundColor:"action.hover"}}},...i,children:[e.jsxs(j,{sx:{alignItems:"center",display:{md:"flex",xs:"none"},mr:1},children:[e.jsx(de,{checked:o,onChange:l}),e.jsx(y,{title:"Starred",children:e.jsx(p,{children:e.jsx(h,{sx:{...t.isStarred&&{color:"warning.main","& path":{fill:g=>g.palette.warning.main,fillOpacity:1}}},children:e.jsx(ce,{})})})}),e.jsx(y,{title:"Important",children:e.jsx(p,{children:e.jsx(h,{sx:{...t.isImportant&&{color:"warning.main","& path":{fill:g=>g.palette.warning.main,fillOpacity:1}}},children:e.jsx(Ce,{})})})})]}),e.jsxs(j,{component:X,href:r,sx:{alignItems:"center",cursor:"pointer",display:"flex",flexGrow:1,flexWrap:{xs:"wrap",md:"nowrap"},minWidth:1,textDecoration:"none"},children:[e.jsxs(j,{sx:{alignItems:"center",display:"flex"},children:[e.jsx(S,{src:t.from.avatar||void 0,children:le(t.from.name)}),e.jsx(v,{color:"text.primary",sx:{width:120,ml:2,...!t.isUnread&&{fontWeight:600}},noWrap:!0,variant:"body2",children:t.from.name})]}),e.jsxs(j,{sx:{flexGrow:1,ml:{xs:0,md:2},my:{xs:2,md:0},overflow:"hidden",width:{xs:"100%",md:"auto"}},children:[e.jsxs(j,{sx:{alignItems:"center",display:"flex",maxWidth:800,width:"100%"},children:[e.jsx(v,{color:"text.primary",sx:{fontWeight:600,minWidth:100,maxWidth:400,mr:1},noWrap:!0,variant:"body2",children:t.subject}),e.jsxs(v,{color:"text.secondary",noWrap:!0,variant:"body2",children:["—",t.message]})]}),x&&e.jsxs(j,{sx:{mt:1},children:[e.jsx(U,{icon:e.jsx(h,{children:e.jsx(O,{})}),label:t.attachments[0].name,size:"small"}),f&&e.jsx(U,{label:"+1",size:"small",sx:{ml:1}})]})]}),e.jsx(v,{color:"text.secondary",variant:"caption",sx:{display:"block",textAlign:{xs:"left",md:"right"},whiteSpace:"nowrap",width:100},children:u})]})]})};ke.propTypes={email:c.object.isRequired,href:c.string.isRequired,onDeselect:c.func,onSelect:c.func,selected:c.bool.isRequired};const Zs=s=>{const t=D(),{emails:a}=_(n=>n.mail);return d.useEffect(()=>{t(H.getEmails({label:s}))},[s]),a},Ks=s=>{const[t,a]=d.useState([]);d.useEffect(()=>{a([])},[s]);const n=d.useCallback(()=>{a([...s])},[s]),o=d.useCallback(l=>{a(u=>u.includes(l)?u:[...u,l])},[]),r=d.useCallback(()=>{a([])},[]),i=d.useCallback(l=>{a(u=>u.filter(x=>x!==l))},[]);return{handleDeselectAll:r,handleDeselectOne:i,handleSelectAll:n,handleSelectOne:o,selected:t}},we=s=>{const{currentLabelId:t,onSidebarToggle:a,...n}=s,o=Zs(t),{handleDeselectAll:r,handleDeselectOne:i,handleSelectAll:l,handleSelectOne:u,selected:x}=Ks(o.allIds),f=d.useCallback(m=>{m.target.checked?l():r()},[l,r]),g=x.length===o.allIds.length,w=x.length>0&&x.length<o.allIds.length,C=o.allIds.length>0;return e.jsxs(b,{sx:{height:"100%",overflow:"hidden"},...n,children:[e.jsxs(b,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[e.jsx("div",{children:e.jsx(p,{onClick:a,children:e.jsx(h,{children:e.jsx(as,{})})})}),e.jsxs(b,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(ee,{fullWidth:!0,placeholder:"Search email",size:"small",startAdornment:e.jsx(se,{position:"start",children:e.jsx(h,{children:e.jsx(te,{})})}),sx:{width:200}}),e.jsxs(v,{color:"text.secondary",sx:{display:{xs:"none",md:"block"},mx:2,whiteSpace:"nowrap"},variant:"body2",children:["1 - ",o.allIds.length," of ",o.allIds.length]}),e.jsx(y,{title:"Next page",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(re,{})})})}),e.jsx(y,{title:"Previous page",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(ae,{})})})}),e.jsx(y,{title:"Refresh",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(Ns,{})})})})]})]}),e.jsx(L,{}),C?e.jsxs(e.Fragment,{children:[e.jsxs(j,{sx:{alignItems:"center",borderBottomColor:"divider",borderBottomStyle:"solid",borderBottomWidth:1,display:{xs:"none",md:"flex"},p:2},children:[e.jsx(de,{checked:g,indeterminate:w,onChange:f}),e.jsx(v,{variant:"subtitle2",children:"Select all"}),e.jsx(j,{sx:{flexGrow:1}}),e.jsx(y,{title:"More options",children:e.jsx(p,{children:e.jsx(h,{children:e.jsx(ie,{})})})})]}),e.jsx("div",{children:o.allIds.map(m=>{const R=x.includes(m),Ie=t&&t!=="inbox"?M.dashboard.mail+`?emailId=${m}&label=${t}`:M.dashboard.mail+`?emailId=${m}`;return e.jsx(ke,{email:o.byId[m],href:Ie,onDeselect:()=>i(m),onSelect:()=>u(m),selected:R},m)})})]}):e.jsxs(b,{alignItems:"center",justifyContent:"center",spacing:2,sx:{flexGrow:1,p:2},children:[e.jsx(j,{component:"img",src:"/assets/errors/error-404.png",sx:{height:"auto",maxWidth:120}}),e.jsx(v,{color:"text.secondary",variant:"h5",children:"There are no emails"})]})]})};we.propTypes={currentLabelId:c.string,onSidebarToggle:c.func};var Qs=function(t){return e.jsxs("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M14.7301 4H9.2699c-.9692 0-1.4538 0-1.8816.1476a2.7 2.7 0 0 0-1.0088.6235c-.3234.3166-.54.75-.9735 1.617l-1.95 3.8998c-.17.3401-.255.5102-.315.6885a2.6993 2.6993 0 0 0-.115.4866C3 11.6493 3 11.8395 3 12.2198V14.08c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799.5775.2943 1.3336.2943 2.8457.2943h9.36c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799C21 16.3482 21 15.5921 21 14.08v-1.8602c0-.3803 0-.5705-.0261-.7568a2.6918 2.6918 0 0 0-.1149-.4866c-.0599-.1783-.145-.3484-.3151-.6885L18.594 6.388c-.4334-.8668-.6501-1.3003-.9735-1.617a2.7 2.7 0 0 0-1.0088-.6234C16.1839 4 15.6993 4 14.7301 4Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.45 11.2h3.0438a1.628 1.628 0 0 1 1.4562.9c.2758.5516.8396.9 1.4562.9h5.1876a1.628 1.628 0 0 0 1.4562-.9 1.628 1.628 0 0 1 1.4562-.9H20.55M9.27 4h5.46c.9692 0 1.4538 0 1.8816.1476a2.7 2.7 0 0 1 1.0088.6235c.3234.3166.5401.75.9735 1.617l1.9499 3.8998c.1701.3401.2552.5102.3151.6885.0533.1583.0918.3212.1149.4866.0261.1863.0261.3765.0261.7568V14.08c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 16.3482 3 15.5921 3 14.08v-1.8602c0-.3803 0-.5705.026-.7568a2.6993 2.6993 0 0 1 .115-.4866c.06-.1783.145-.3484.315-.6885l1.95-3.8999c.4334-.8668.6501-1.3003.9735-1.617a2.7 2.7 0 0 1 1.0088-.6234C7.8161 4 8.3007 4 9.2699 4Z"})]}))},Ys=function(t){return e.jsxs("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M10.4304 2.5586c.5682-.3692.8522-.5539 1.1583-.6257a1.7999 1.7999 0 0 1 .8226 0c.3061.0718.5901.2565 1.1583.6257l6.7752 4.404c.2394.1555.3591.2333.4458.3371a.898.898 0 0 1 .1696.3126C21 7.7416 21 7.8843 21 8.17v6.5985c0 1.5122 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 17.0366 3 16.2806 3 14.7684V8.1699c0-.2855 0-.4283.0398-.5576a.9.9 0 0 1 .1696-.3126c.0867-.1037.2064-.1816.4458-.3372l6.7752-4.4039Z"}),e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M10.4304 12.2182 3.9287 7.9921c-.3095-.2012-.4643-.3018-.5179-.4294a.45.45 0 0 1 0-.3486c.0536-.1276.2084-.2282.518-.4294l6.5016-4.226c.5682-.3693.8522-.554 1.1583-.6258a1.7999 1.7999 0 0 1 .8226 0c.3061.0718.5901.2565 1.1583.6257l6.5017 4.2261c.3095.2012.4643.3018.5179.4294a.4504.4504 0 0 1 0 .3486c-.0536.1276-.2084.2282-.5179.4294l-6.5017 4.2261c-.5681.3693-.8522.5539-1.1583.6258a1.7999 1.7999 0 0 1-.8226 0c-.3061-.0719-.5901-.2565-1.1583-.6258Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m13.5696 2.5586 6.7752 4.404c.2394.1555.3591.2333.4458.3371a.898.898 0 0 1 .1696.3126C21 7.7416 21 7.8843 21 8.17v6.5985c0 1.5122 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 17.0366 3 16.2806 3 14.7684V8.1699c0-.2855 0-.4283.0398-.5576a.9.9 0 0 1 .1696-.3126c.0867-.1037.2064-.1816.4458-.3372l6.7752-4.4039m3.1392 0c-.5682-.3692-.8522-.5539-1.1583-.6257a1.7999 1.7999 0 0 0-.8226 0c-.3061.0718-.5901.2565-1.1583.6257m3.1392 0 6.5017 4.2261c.3095.2012.4643.3018.5179.4294a.4504.4504 0 0 1 0 .3486c-.0536.1276-.2084.2282-.5179.4294l-6.5017 4.2261c-.5681.3693-.8522.5539-1.1583.6258a1.7999 1.7999 0 0 1-.8226 0c-.3061-.0719-.5901-.2565-1.1583-.6258L3.9287 7.9921c-.3095-.2012-.4643-.3018-.5179-.4294a.45.45 0 0 1 0-.3486c.0536-.1276.2084-.2282.518-.4294l6.5016-4.226"})]}))},Js=function(t){return e.jsxs("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M2.9373 11.9373c-.346-.3459-.5189-.5189-.6426-.7207a2.0013 2.0013 0 0 1-.2394-.5781C2 10.4083 2 10.1637 2 9.6745V5.2c0-1.1201 0-1.6802.218-2.108a2 2 0 0 1 .874-.874C3.5198 2 4.08 2 5.2 2h4.4745c.4892 0 .7338 0 .964.0553.204.049.3991.1298.5781.2394.2018.1237.3748.2966.7207.6426l7.6686 7.6686c1.188 1.188 1.7821 1.7821 2.0046 2.467a2.9996 2.9996 0 0 1 0 1.8541c-.2225.685-.8166 1.2791-2.0046 2.4671l-2.2118 2.2118c-1.188 1.188-1.7821 1.7821-2.4671 2.0046a2.9996 2.9996 0 0 1-1.8541 0c-.6849-.2225-1.279-.8166-2.467-2.0046l-7.6686-7.6686Z"}),e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M8.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 8h.01M2 5.2v4.4745c0 .4892 0 .7338.0553.964.049.204.1298.3991.2394.5781.1237.2018.2966.3748.6426.7207l7.6686 7.6686c1.188 1.188 1.7821 1.7821 2.467 2.0046a2.9996 2.9996 0 0 0 1.8541 0c.685-.2225 1.2791-.8166 2.4671-2.0046l2.2118-2.2118c1.188-1.188 1.7821-1.7821 2.0046-2.4671a2.9996 2.9996 0 0 0 0-1.8541c-.2225-.6849-.8166-1.279-2.0046-2.467l-7.6686-7.6686c-.3459-.346-.5189-.5189-.7207-.6426a2.0013 2.0013 0 0 0-.5781-.2394C10.4083 2 10.1637 2 9.6745 2H5.2c-1.1201 0-1.6802 0-2.108.218a2 2 0 0 0-.874.874C2 3.5198 2 4.08 2 5.2ZM8.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"})]}))};const Xs={all:e.jsx(js,{}),inbox:e.jsx(Qs,{}),sent:e.jsx(bs,{}),trash:e.jsx(oe,{}),drafts:e.jsx(Ys,{}),spam:e.jsx(gs,{}),starred:e.jsx(ce,{}),important:e.jsx(Ce,{})},et=s=>s.type==="system"?Xs[s.id]:e.jsx(Js,{}),st=s=>s.type==="custom"&&s.color||"inherit",Me=s=>{const{active:t,label:a,...n}=s,o=et(a),r=st(a),i=!!(a.unreadCount&&a.unreadCount>0);return e.jsx(vs,{disableGutters:!0,disablePadding:!0,sx:{"& + &":{mt:1}},...n,children:e.jsxs(ns,{sx:{borderRadius:1,color:"text.secondary",flexGrow:1,fontSize:l=>l.typography.button.fontSize,fontWeight:l=>l.typography.button.fontWeight,justifyContent:"flex-start",lineHeight:l=>l.typography.button.lineHeight,py:1,px:2,textAlign:"left","&:hover":{backgroundColor:"action.hover"},...t&&{backgroundColor:"action.selected",color:"text.primary"}},children:[e.jsx(h,{sx:{color:r,mr:1},children:o}),e.jsx(j,{sx:{flexGrow:1},children:a.name}),i&&e.jsx(v,{color:"inherit",variant:"subtitle2",children:a.unreadCount})]})})};Me.propTypes={active:c.bool,label:c.object.isRequired,onClick:c.func};const tt=s=>{const t={system:[],custom:[]};return s.forEach(a=>{a.type==="system"?t.system.push(a):t.custom.push(a)}),t},Se=s=>{const{currentLabelId:t="inbox",container:a,labels:n,onClose:o,onCompose:r,open:i,...l}=s,u=rs(),x=q(C=>C.breakpoints.up("md")),f=d.useCallback(C=>{x||o==null||o();const m=C.id!=="inbox"?M.dashboard.mail+`?label=${C.id}`:M.dashboard.mail;u.push(m)},[u,x,o]),g=tt(n),w=e.jsxs("div",{children:[e.jsxs(b,{alignItems:"center",direction:"row",spacing:2,sx:{pt:2,px:2},children:[e.jsx(v,{variant:"h5",sx:{flexGrow:1},children:"Mailbox"}),!x&&e.jsx(p,{onClick:o,children:e.jsx(h,{children:e.jsx(Y,{})})})]}),e.jsx(j,{sx:{p:2},children:e.jsx(A,{fullWidth:!0,onClick:r,startIcon:e.jsx(h,{children:e.jsx(fs,{})}),sx:{mt:2},variant:"contained",children:"Compose"})}),e.jsx(j,{sx:{pb:2,px:2},children:Object.keys(g).map(C=>e.jsxs(d.Fragment,{children:[C==="custom"&&e.jsx(Is,{disableSticky:!0,children:e.jsx(v,{color:"text.secondary",variant:"overline",children:"Labels"})}),e.jsx(is,{disablePadding:!0,children:g[C].map(m=>{const R=t===m.id;return e.jsx(Me,{active:R,label:m,onClick:()=>f(m)},m.id)})})]},C))})]});return x?e.jsx(N,{anchor:"left",open:i,PaperProps:{sx:{position:"relative",width:280}},SlideProps:{container:a},variant:"persistent",...l,children:w}):e.jsx(N,{anchor:"left",hideBackdrop:!0,ModalProps:{container:a,sx:{pointerEvents:"none",position:"absolute"}},onClose:o,open:i,PaperProps:{sx:{maxWidth:"100%",width:280,pointerEvents:"auto",position:"absolute"}},SlideProps:{container:a},variant:"temporary",...l,children:w})};Se.propTypes={container:c.any,currentLabelId:c.string,labels:c.array.isRequired,onClose:c.func,onCompose:c.func,open:c.bool};const at=()=>{const s=D(),t=_(n=>n.mail.labels),a=d.useCallback(()=>{s(H.getLabels())},[s]);return d.useEffect(()=>{a()},[]),t},nt=()=>{const s={isFullScreen:!1,isOpen:!1,message:"",subject:"",to:""},[t,a]=d.useState(s),n=d.useCallback(()=>{a(f=>({...f,isOpen:!0}))},[]),o=d.useCallback(()=>{a(s)},[]),r=d.useCallback(()=>{a(f=>({...f,isFullScreen:!0}))},[]),i=d.useCallback(()=>{a(f=>({...f,isFullScreen:!1}))},[]),l=d.useCallback(f=>{a(g=>({...g,message:f}))},[]),u=d.useCallback(f=>{a(g=>({...g,subject:f}))},[]),x=d.useCallback(f=>{a(g=>({...g,to:f}))},[]);return{...t,handleClose:o,handleMaximize:r,handleMessageChange:l,handleMinimize:i,handleOpen:n,handleSubjectChange:u,handleToChange:x}},rt=()=>{const s=q(i=>i.breakpoints.up("md")),[t,a]=d.useState(s),n=d.useCallback(()=>{a(!!s)},[s]);d.useEffect(()=>{n()},[s]);const o=d.useCallback(()=>{a(i=>!i)},[]),r=d.useCallback(()=>{a(!1)},[]);return{handleToggle:o,handleClose:r,open:t}},Tt=()=>{const s=d.useRef(null),t=cs(),a=t.get("emailId"),n=t.get("label")||void 0,o=at(),r=nt(),i=rt();ls();const l=a?"details":"list";return e.jsxs(e.Fragment,{children:[e.jsx(os,{title:"Dashboard: Mail"}),e.jsx(L,{}),e.jsx(j,{component:"main",sx:{backgroundColor:"background.paper",flex:"1 1 auto",overflow:"hidden",position:"relative"},children:e.jsxs(j,{ref:s,sx:{bottom:0,display:"flex",left:0,position:"absolute",right:0,top:0},children:[e.jsx(Se,{container:s.current,currentLabelId:n,labels:o,onClose:i.handleClose,onCompose:r.handleOpen,open:i.open}),e.jsxs(Us,{open:i.open,children:[l==="details"&&e.jsx(ye,{currentLabelId:n,emailId:a}),l==="list"&&e.jsx(we,{currentLabelId:n,onSidebarToggle:i.handleToggle})]})]})}),e.jsx(he,{maximize:r.isFullScreen,message:r.message,onClose:r.handleClose,onMaximize:r.handleMaximize,onMessageChange:r.handleMessageChange,onMinimize:r.handleMinimize,onSubjectChange:r.handleSubjectChange,onToChange:r.handleToChange,open:r.isOpen,subject:r.subject,to:r.to})]})};export{Tt as default};
